<!DOCTYPE HTML>
<html>
 <head>
<meta charset="UTF-8">
  <title> DOM에서 노트 추가  </title>
  <script type="text/javascript">
  window.onload = function(){
		
	  var bInsert = document.getElementById('bInsert');
	  bInsert.onclick = insertCustomer;
		
	  var bDelete = document.getElementById('bDelete');
	  bDelete.onclick = deleteCustomer;
  }  

  	// 추가함수
	function insertCustomer(){
		// 1. 입력한 값들을 얻어온다.
		var name = document.getElementById('name').value;
		var age = document.getElementById('age').value;
		var tel = document.getElementById('tel').value;
		var addr = document.getElementById('addr').value;
		
		// 2. 테이블요소(태그) 얻어온다.
		var customerTBL = document.getElementById('listTable');
		
		// 3. tr 요소와 td 요소를 생성한다.
		var trElement = document.createElement('tr');
		
		// 체크박스 생성
		var x = document.createElement('input');
		var checktdElement = x.setAttribute('type','checkbox');
		
		/* for(var i=1; i<6; i++){
		var text = document.createTextNode(inPut[i].value);
		var tdch =document.createElement('td');
		} */
		
		var tdElement1=document.createElement('td');
		var tdElement2=document.createElement('td');
		var tdElement3=document.createElement('td');
		var tdElement4=document.createElement('td');
		var tdElement5=document.createElement('td');
		
		// 4. 텍스트노드(1번의 입력값)로 생성한다.
		var txtElement1 = document.createTextNode(tdElement1);
		var txtElement2 = document.createTextNode(name);
		var txtElement3 = document.createTextNode(age);
		var txtElement4 = document.createTextNode(tel);
		var txtElement5 = document.createTextNode(addr);
		
		// 5. td 요소에 텍스트노드를 붙인다.
		tdElement1.appendChild(x);
		tdElement2.appendChild(txtElement2);
		tdElement3.appendChild(txtElement3);
		tdElement4.appendChild(txtElement4);
		tdElement5.appendChild(txtElement5);
		
		// 6. tr 요소에 생성한 td 요소를 붙인다.
		trElement.appendChild(tdElement1);
		trElement.appendChild(tdElement2);
		trElement.appendChild(tdElement3);
		trElement.appendChild(tdElement4);
		trElement.appendChild(tdElement5);
		
		// 7. 테이블요소에 tr요소를 붙인다.
		customerTBL.appendChild(trElement);
		
		// 과제
		// 1) 입력시 입력된 정보는 클리어
		document.getElementById('name').value = "";
		document.getElementById('age').value = "";
		document.getElementById('tel').value = "";
		document.getElementById('addr').value = "";
		
	}
  	
	function deleteCustomer(){
		// 2) 리무버
		// input 태그들 얻어오기 (배열)
		// type이 checkbox이면서 checked된 노드만 삭제 (함수 리무부 사용 remove())
		var inputList = document.getElementsByTagName('input');
		for(var i=0; i<=inputList.length; i++){
			if(inputList[i].type == "checkbox" && inputList[i].checked ==true){
				//document.write(inputList[i]);
				inputList[i].closest('tr').remove();
				
				i--;
			}
			
		}
		
		
  	}
  	
</script>
 </head>
<body>

<h2> 고객정보 입력 </h2>

<form name="inForm" method="post">
<table border = 1>
	<tr>
		<td width="80" align="center">Name</td>
		<td width="50" align="center">Age</td>
		<td width="100" align="center">Tel</td>	
		<td width="250" align="center">Addr</td>
	</tr>
	<tr>
		<td align="center"><input type="text" size="8" name="name" id="name"></td>
		<td align="center"><input type="text" size="4" name="age" id="age"></td>
		<td align="center"><input type="text" size="12" name="tel" id="tel"></td>
		<td align="center"><input type="text" size="30" name="addr" id="addr"></td>
	</tr>
	<tr>
		<td colspan="4" align="center"> 
			<input type="button" value="입력" id='bInsert' >
		</td>
	</tr>
</table>

<br>
<hr>

<h2> 고객정보 목록보기  </h2>
<table border = 1 id="listTable">
	<tr>
		<th width="80" align="center">check</th>
		<th width="80" align="center">Name</th>
		<th width="50" align="center">Age</th>
		<th width="100" align="center">Tel</th>	
		<th width="250" align="center">Addr</th>
	</tr>
</table>
<input type="button" value="삭제" id="bDelete">

</form>
</body>
</html>
